(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10956480"],{"117a":function(t,e,i){"use strict";var s=i("3b53"),n=i.n(s);n.a},1349:function(t,e,i){"use strict";var s=i("a124"),n=i.n(s);n.a},2341:function(t,e,i){"use strict";var s=i("415b"),n=i.n(s);n.a},"3b53":function(t,e,i){},"415b":function(t,e,i){},"6d3a":function(t,e,i){"use strict";var s=i("b449"),n=i.n(s);n.a},"6d3b":function(t,e,i){},7177:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wide-competitions"},["detail"!==t.mobileView?i("Breadcrumbs",{attrs:{items:[{text:"Главная",path:{name:"portal"}},{text:"Проекты"}]}}):i("CloseDetail",{staticClass:"breadcrumbs",attrs:{label:"Проекты"}}),i("div",{staticClass:"contests-content"},[i("transition",{attrs:{name:"slide-left"}},["detail"!=t.mobileView?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingList,expression:"loadingList"}],staticClass:"table"},[t.is_collapsed?i("div",{staticClass:"tabs"},[i("TabsSelector",{attrs:{"active-field":t.activeTab,"is-bg-mode":!0,"slots-headers":t.tabs,stub:!1},on:{"change-field":t.setTab}})],1):i("div",{staticClass:"shadow tabs"},t._l(t.tabs,(function(e,s){return i("router-link",{key:s,staticClass:"tab",attrs:{to:{name:"competitions",params:{type:e.name,page:e.name==t.type?t.page:1,id:t.articleID}}}},[t._v(t._s(e.title))])})),1),i("List",{attrs:{items:t.items,isLoading:!t.rawPage,page:+t.page}}),i("router-link",{staticClass:"to-offer",attrs:{to:{name:"proposal",params:{id:"create"}}}},[t._v("Предложить свой проект")]),i("Pagination",{attrs:{max:t.pagesCount,value:+t.page}})],1):t._e()]),i("transition",{attrs:{name:"slide-right"},on:{"after-enter":t.scrollStart}},[t.currentItem&&"list"!=t.mobileView?i("Article",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetails,expression:"loadingDetails"}],attrs:{article:t.article,type:t.type}}):t._e()],1)],1)],1)},n=[],r=(i("8e6e"),i("ac6a"),i("456d"),i("7f7f"),i("20d6"),i("a481"),i("96cf"),i("3b8d")),a=i("bd86"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"tags"},[i("ActiveHashTag",{attrs:{label:t.getHashTag,type:"projects"}})],1),i("div",{staticClass:"contests-list"},[t._l(t.items,(function(e,s){return i("router-link",{key:s,staticClass:"shadow",attrs:{to:{name:"competitions",params:{page:t.page,id:e.id},query:{mView:"detail"}}}},[i("img",{attrs:{src:e.picture_link,alt:"Логотип"}}),i("div",{staticClass:"text"},[i("div",{staticClass:"name"},[t._v(t._s(e.title))]),e.tags&&e.tags.length?i("hashtags",{staticClass:"list__item__tags",attrs:{items:e.tags,type:"projects"}}):t._e()],1)])}))],2)])},c=[],l=(i("c5f6"),i("2f62")),u=i("61b6"),p=i("0ed9");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f=["getHashTag"],m={props:{items:Array,isLoading:Boolean,page:Number},components:{Hashtags:u["a"],ActiveHashTag:p["a"]},computed:d({},Object(l["c"])("projects",f))},g=m,b=(i("2341"),i("2877")),v=Object(b["a"])(g,o,c,!1,null,"7aaf1e90",null),y=v.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shadow article"},[i("div",{staticClass:"article__top"},[i("header",[t._v("\n                "+t._s(t.article.type)+"\n                "),t.article.site_link?i("a",{staticClass:"project-site",attrs:{href:t.article.site_link,target:"_blank"}},[t._v("На страницу "+t._s(this.getTypeText))]):t._e()]),i("div",{staticClass:"name"},[t._v(t._s(t.article.title))])]),""!=t.article.big_picture_link?i("img",{attrs:{src:t.article.big_picture_link,alt:"Баннер"}}):i("img",{attrs:{src:t.article.picture_link,alt:"Баннер"}}),i("ParticipationButton",{attrs:{project:t.article}}),i("div",{staticClass:"html",domProps:{innerHTML:t._s(t.article.text)}}),t.article.tags&&t.article.tags.length?i("hashtags",{staticClass:"list__item__tags",attrs:{items:t.article.tags,type:"projects",circle:""}}):t._e(),i("CardFooter")],1)},j=[],_=(i("7514"),i("75142")),w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isBtnShown,expression:"isBtnShown"}],staticClass:"registration"},[i("div",{staticClass:"btn-row"},[t.btnText?i("Btn",{staticClass:"btn",class:t.btnClass,attrs:{disabled:t.isBtnDisabled},on:{click:t.onClick}},[i("span",{staticClass:"btn-text"},[t._v(t._s(t.btnText))])]):t._e()],1)])},C=[],P=i("2eef"),D={name:"ParticipationButton",props:{project:Object},data:function(){return{}},components:{Btn:P["a"]},computed:{btnText:function(){return this.isRegistered?"Войти в кабинет проекта":this.isRegistrationOpen?"Зарегистрироваться":"Регистрация завершена"},isBtnDisabled:function(){return!this.isRegistered&&!this.isRegistrationOpen},btnClass:function(){return["green"]},isBtnShown:function(){return"active"===this.project["current_status"]&&(this.isRegistered||this.project.nominations.filter((function(t){return t["is_registration_opened"]})).length>0)},isRegistered:function(){return this.project.nominations.filter((function(t){return"unregistered"!==t["status_of_registration"]})).length>0},isRegistrationOpen:function(){return this.project.nominations.filter((function(t){return t["is_registration_opened"]&&!t["is_registration_closed"]})).length>0}},methods:{onClick:function(){this.$router.push({name:"SPK",params:{projectId:this.project["project_id"]}})}}},x=D,k=(i("6d3a"),Object(b["a"])(x,w,C,!1,null,"02cc75bf",null)),T=k.exports;function S(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function I(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?S(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var $=function(t){var e=t.registration_start;return!!e},R={props:{article:Object,type:String},data:function(){return{nmsHidden:!0}},computed:I({},Object(l["c"])("projects",["contests","events","internship"]),{nominations:function(){var t=function(t){return"registered"==t["status_of_registration"]},e=this.article.nominations.find(t);return e?[e].filter($):this.article.nominations.filter($)},rsvDomain:function(){return window.rsvDomain},currentUrl:function(){return"https://".concat(window.location.hostname).concat(this.$route.fullPath)},getTypeText:function(){return this.internship.ids.indexOf(this.article.id)>=0?"проекта":this.events.ids.indexOf(this.article.id)>=0?"события":"конкурса"}}),components:{CardFooter:_["a"],Hashtags:u["a"],ParticipationButton:T},watch:{article:function(){this.nmsHidden=!0}}},B=R,L=(i("1349"),i("117a"),Object(b["a"])(B,O,j,!1,null,"fe44198c",null)),E=L.exports,H=i("d7ee"),V=i("65b5"),A=i("3962"),N=i("bf72");function U(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function q(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?U(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):U(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var F=["is_collapsed"],J=["contests","events","internship","currentItem"],K=["loadSeasons","loadSeason","clearCurrent","updateType"],M={name:"WideCompetitions",data:function(){return{tabs:[{title:"Конкурсы",name:"contests"},{title:"Мероприятия",name:"events"},{title:"Проекты",name:"internship"}],activeTab:0,controlID:null,loadingList:!1,loadingDetails:!1}},computed:q({},Object(l["c"])(F),{},Object(l["c"])("projects",J),{pagesCount:function(){return this[this.type].pagesCount},rawPage:function(){return this[this.type].pages[this.page]},pageTime:function(){return this.rawPage?this.rawPage.time:0},items:function(){return this.rawPage?this.rawPage.seasons:[]},type:function(){return this.$route.params.type},page:function(){return+(this.$route.params.page||1)},articleID:function(){return+(this.$route.params.id||0)},article:function(){return this.currentItem||{}},mobileView:function(){if(this.is_collapsed)return"detail"===this.$route.query.mView?"detail":"list"}}),methods:q({},Object(l["b"])("projects",K),{loadItems:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingList=!0,t.next=3,this.loadSeasons({page:this.page,type:this.type});case 3:t.sent,this.loadingList=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),supplement:function(){if(this.items.length&&!this.articleID){var t=this.items[0].id;this.$router.replace({name:"competitions",params:{type:this.type,page:this.page,id:t}})}},onRouteUpdate:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,i,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.scrollStart(),this.activeTab=this.tabs.findIndex((function(t){return t.name===s.$route.params.type})),!this.articleID||this.articleID==this.controlID){t.next=14;break}return this.loadingDetails=!0,t.prev=4,t.next=7,this.loadSeason(this.articleID);case 7:e=t.sent,e||this.$router.push({name:"404"}),e.project_type!=this.type&&this.$router.push({name:"competitions",params:{type:e.project_type,page:this.page,id:this.articleID}}),this.controlID=this.articleID;case 11:return t.prev=11,this.loadingDetails=!1,t.finish(11);case 14:return this.loadingList=!0,t.prev=15,t.next=18,this.loadSeasons({page:this.page,type:this.type});case 18:i=t.sent,0===i.seasons.length&&this.$router.push({name:"404"});case 20:return t.prev=20,this.loadingList=!1,t.finish(20);case 23:case"end":return t.stop()}}),t,this,[[4,,11,14],[15,,20,23]])})));function e(){return t.apply(this,arguments)}return e}(),scrollStart:function(t){window.scrollTo({top:0})},setTab:function(t){var e=this.tabs[t];e.name==this.type&&1==this.page||(this.$router.push({name:"competitions",params:{type:e.name,page:e.name==this.type?this.page:1,id:this.articleID}}),this.updateType(e.name))}}),components:{List:y,Article:E,Pagination:H["a"],Breadcrumbs:V["a"],CloseDetail:A["a"],TabsSelector:N["a"]},watch:{$route:function(){this.onRouteUpdate()},items:function(){this.supplement()}},created:function(){var t=this;this.tabs.some((function(e){return e.name==t.type}))||this.$router.push({name:"competitions",params:{type:"contests"}}),this.clearCurrent(),this.onRouteUpdate(),this.supplement()}},W=M,z=(i("876d"),Object(b["a"])(W,s,n,!1,null,"1ba3e58a",null));e["default"]=z.exports},"876d":function(t,e,i){"use strict";var s=i("6d3b"),n=i.n(s);n.a},a124:function(t,e,i){},b449:function(t,e,i){}}]);
//# sourceMappingURL=chunk-10956480.48a34531.js.map