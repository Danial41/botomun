(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4da81422"],{"0d5e":function(t,e,i){"use strict";var n=i("75fe"),a=i.n(n);a.a},1124:function(t,e,i){},"1a3d":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"professions"},[i("div",{staticClass:"wrapper"},[i("breadcrumbs",{staticClass:"breadcrumbs",attrs:{items:t.fullBreadcrumbs}})],1),i("div",{staticClass:"wrapper category"},[i("h1",[t._v(t._s(t.categoryOrAll.name||""))]),t.categoryOrAll.description?i("p",{staticClass:"description"},[t._v("\n            "+t._s(t.categoryOrAll.description||"")+"\n        ")]):t._e(),i("Note",{staticClass:"note",attrs:{label:"Здесь скоро появятся новые профессии"}})],1),i("div",{directives:[{name:"loading",rawName:"v-loading:[true]",value:t.loading,expression:"loading",arg:!0}],staticClass:"wrapper cards"},[t._l(t.items,(function(e){return i("ProfessionCard",{key:e.id,staticClass:"item",attrs:{item:e,category:t.category}})})),t._l(t.stubs,(function(t,e){return i("div",{key:"stub_"+e,staticClass:"stub"})}))],2)])},a=[],o=(i("8e6e"),i("456d"),i("ac6a"),i("5df3"),i("96cf"),i("3b8d")),r=(i("7f7f"),i("75fc")),s=i("bd86"),c=i("2f62"),l=i("65b5"),u=i("02ee"),d=i("9d31");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f=["category","items","isMobile"],p=["loadCategory","loadItems"],b={name:"ProfessionsWide",components:{Breadcrumbs:l["a"],ProfessionCard:d["a"],Note:u["a"]},computed:g({},Object(c["c"])("professions",f),{fullBreadcrumbs:function(){return[].concat(Object(r["a"])(this.breadcrumbs),[{text:this.categoryOrAll.name,path:{name:"professions-list",params:{category:this.categoryOrAll.id}}}])},routeCategory:function(){return this.$route.params.category||""},categoryOrAll:function(){var t={id:null,name:"Все профессии"};return this.routeCategory&&this.category?this.category:t},stubs:function(){var t=this.items.length%4;return new Array(t)}}),methods:g({},Object(c["b"])("professions",p)),mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[this.loadItems({professionId:this.routeCategory})],this.routeCategory&&e.push(this.loadCategory(this.routeCategory)),this.loading=!0,t.prev=3,t.next=6,Promise.all(e);case 6:return t.prev=6,this.loading=!1,this.$mainMixinScrollUp(),t.finish(6);case 10:case"end":return t.stop()}}),t,this,[[3,,6,10]])})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{loading:!1,breadcrumbs:[{text:"Главная",path:{name:"main",params:{field:"growth"}}},{text:"Каталог профессий, демоверсия 1.0",path:{name:"profession-categories"}}]}}},m=b,y=(i("0d5e"),i("2877")),v=Object(y["a"])(m,n,a,!1,null,"11ae4e8f",null);e["default"]=v.exports},"6aff":function(t,e,i){"use strict";var n=i("f7f8"),a=i.n(n);a.a},"75fe":function(t,e,i){},"9d31":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card"},[i("ToolTipDialog",{attrs:{"content-width":350,loading:t.loading},scopedSlots:t._u([{key:"content",fn:function(){return[i("router-link",{staticClass:"card_wrapper",attrs:{to:{name:"profession-details",params:{professionId:t.item.id}}}},[i("div",{staticClass:"image",style:t.item.logo?"background-image: url("+t.item.logo+")":""}),i("div",{staticClass:"content"},[i("div",{staticClass:"name"},[t._v(t._s(t._f("ellipsis")(t.item.name,50)))]),t.showSpecialization&&t.item.countSpecialization?i("div",{staticClass:"hover-link text-button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.showDialogHandler(!0)}}},[t._v("\n                        "+t._s("Специализации: "+t.item.countSpecialization)+"\n                    ")]):t._e()])])]},proxy:!0},{key:"dialog",fn:function(){return[i("ul",{staticClass:"specializations-list"},t._l(t.getSpecializationItems,(function(e){return i("li",{key:e.id,staticClass:"specializations-item"},[i("router-link",{staticClass:"specializations-link",attrs:{to:{name:"specialization-details",params:{specializationId:e.id}}}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])],1)})),0)]},proxy:!0}]),model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}})],1)},a=[],o=(i("8e6e"),i("ac6a"),i("456d"),i("96cf"),i("3b8d")),r=i("bd86"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tool-tip-dialog"},[t.showDialog&&!t.isMobile?i("div",{staticClass:"catcher",on:{click:t.outsideClickHandler}}):t._e(),(t.isMobile?t.showDialog&&!t.loading:t.showDialog)?i("div",{staticClass:"container"},[t.isMobile?t._e():i("div",{staticClass:"triangle",class:{right:!t.isRightSide},style:t.arrowPosition}),i("div",{ref:"refDialog",staticClass:"dialog",style:t.metrics},[t.isMobile?i("div",{staticClass:"close-button",on:{click:function(e){return t.$emit("change",!1)}}}):t._e(),t.loading?i("div",{staticClass:"loading"},[t._v("Загрузка...")]):t._t("dialog")],2)]):t._e(),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"refContent"},[t._t("content")],2)])},c=[];i("c5f6");function l(t){return 1.66/32*t}var u=i("2f62");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){Object(r["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var g=["isMobile","width"],f={name:"ToolTipDialog",model:{prop:"showDialog",event:"change"},props:{loading:{type:Boolean,default:!1},showDialog:{type:Boolean,default:!1},dialogWidth:{type:[Number,String],default:384},dialogMaxHeight:{type:[Number,String],default:703},contentWidth:{type:[Number,String],default:0}},data:function(){return{content:{top:0,left:0,width:0,height:0},dialog:{top:0,left:0,width:0,height:0},triangle:{width:10,height:20},padding:16,isRightSide:!0}},computed:h({},Object(u["c"])(g),{actualContentWidth:function(){return this.contentWidth?this.contentWidth:this.content.width},actualDialogLeftPosition:function(){return this.isRightSide?this.actualContentWidth+this.padding:-(this.dialogWidth+this.padding)},actualDialogRightPosition:function(){return this.isRightSide?this.actualContentWidth+this.padding+this.dialogWidth:-this.padding},metrics:function(){return this.isMobile?null:{left:"".concat(l(this.actualDialogLeftPosition),"rem"),width:"".concat(l(this.dialogWidth),"rem"),maxHeight:"".concat(l(this.dialogMaxHeight),"rem")}},arrowPosition:function(){var t=0,e=this.isRightSide?this.actualDialogLeftPosition-this.triangle.width:this.actualDialogRightPosition,i=this.content.height?this.content.height/3:0,n=this.dialog.height;return n>2*i?t=i-this.triangle.height/2:n&&(t=(n-this.triangle.height)/2),t<this.padding&&(t=this.padding),{top:"".concat(l(t),"rem"),left:"".concat(l(e),"rem")}}}),watch:{showDialog:function(t){var e=this;t&&this.$nextTick((function(){e.calculateMetrics(),e.calculateIsRightSide()}))},loading:function(t){var e=this;t||this.$nextTick((function(){e.calculateMetrics(),e.calculateIsRightSide()}))}},methods:{calculateMetrics:function(){var t=this.$refs.refContent,e=this.$refs.refDialog;this.content=this.getElMetrics(t,"content"),this.dialog=this.getElMetrics(e,"dialog")},getElMetrics:function(t,e){return t?{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}:this[e]},calculateIsRightSide:function(){var t=this.content.left+this.content.width+this.padding+this.dialog.width;this.isRightSide=t<this.width-this.padding},outsideClickHandler:function(){!this.isMobile&&this.$emit("change",!1)}}},p=f,b=(i("b25d"),i("2877")),m=Object(b["a"])(p,s,c,!1,null,"93a9cf5a",null),y=m.exports;function v(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach((function(e){Object(r["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var w=["getSpecializationItems"],j=["loadSpecializationItems"],C={name:"ProfessionCard",components:{ToolTipDialog:y},props:{item:Object,category:{type:Object,default:null},showSpecialization:{type:Boolean,default:!0}},data:function(){return{loading:!1,showDialog:!1}},computed:O({},Object(u["c"])("professions",w)),methods:O({},Object(u["b"])("professions",j),{showDialogHandler:function(t){this.showDialog=void 0!==t?t:!this.showDialog,this.loadSpecializationItemsHandler()},loadSpecializationItemsHandler:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.loadSpecializationItems(this.item.id);case 3:this.loading=!1;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()})},D=C,P=(i("6aff"),Object(b["a"])(D,n,a,!1,null,"2051930a",null));e["a"]=P.exports},b25d:function(t,e,i){"use strict";var n=i("1124"),a=i.n(n);a.a},f7f8:function(t,e,i){}}]);
//# sourceMappingURL=chunk-4da81422.c0e0f1fe.js.map